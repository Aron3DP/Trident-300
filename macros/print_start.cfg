[gcode_macro PRINT_START]
description: Start G-Code
gcode:
    {% set bedtemp = params.BED|int %}
    {% set hotendtemp = params.EXTRUDER|int %}
    {% set chambertemp = params.CHAMBER|default(0)|int %}
    G21
    G90
    M82
    M140 S{bedtemp}
    M104 S260
    G28
    G0 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_maximum.y/2} Z25 F9000
    M106 S127
    M109 S260
    M109 S170
    CLEAN_NOZZLE
    G0 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_maximum.y/2} Z25 F9000
    M190 S{bedtemp}
    TEMPERATURE_WAIT SENSOR="temperature_sensor Chamber" MINIMUM={chambertemp}
    M107
    Z_TILT_ADJUST
    BED_MESH_CALIBRATE PRINT_MIN={params.PRINT_MIN} PRINT_MAX={params.PRINT_MAX}
    BED_MESH_PROFILE LOAD=default
    G0 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_maximum.y/2} Z25
    M104 S{hotendtemp}
    M109 S{hotendtemp}
    G0 X85 Y0 Z1 F3000
    G1 Z0.3
    G92 E0
    G1 E2 F900
    G1 X35 E9 F900
    G1 X25 F9000
    G92 E0
    M221 S95