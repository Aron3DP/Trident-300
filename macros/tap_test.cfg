[gcode_macro TAP_Accuracy]
description: TAP Accuracy Test
gcode:
	{% set s = params.Samples|default(10)|int %}
    {% set x = params.X_Pos|default(290)|int %}
    {% set y = params.Y_Pos|default(290)|int %}

    _CG28

	G0 X{x} Y{y} Z5 F9000

    M190 S110 ; Wait for Bed Temp
    M109 S150 ; Wait for Hotend Temp

	PROBE_ACCURACY SAMPLES={s}
	
	G1 Z5
